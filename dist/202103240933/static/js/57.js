webpackJsonp([57],{TqMj:function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a={data:function(){return{visible:!1,dataForm:{id:0,name:"",growthPoint:0,defaultStatus:0,freeFreightPoint:0,commentGrowthPoint:0,priviledgeFreeFreight:0,priviledgeMemberPrice:0,priviledgeBirthday:0,remark:""},dataRule:{name:[{required:!0,message:"等级名称不能为空",trigger:"blur"}],growthPoint:[{required:!0,message:"等级需要的成长值不能为空",trigger:"blur"}],defaultStatus:[{required:!0,message:"是否为默认等级[0->不是；1->是]不能为空",trigger:"blur"}],freeFreightPoint:[{required:!0,message:"免运费标准不能为空",trigger:"blur"}],commentGrowthPoint:[{required:!0,message:"每次评价获取的成长值不能为空",trigger:"blur"}],priviledgeFreeFreight:[{required:!0,message:"是否有免邮特权不能为空",trigger:"blur"}],priviledgeMemberPrice:[{required:!0,message:"是否有会员价格特权不能为空",trigger:"blur"}],priviledgeBirthday:[{required:!0,message:"是否有生日特权不能为空",trigger:"blur"}],remark:[{required:!0,message:"备注不能为空",trigger:"blur"}]}}},methods:{init:function(e){var r=this;this.dataForm.id=e||0,this.visible=!0,this.$nextTick(function(){r.$refs.dataForm.resetFields(),r.dataForm.id&&r.$http({url:r.$http.adornUrl("/member/memberlevel/info/"+r.dataForm.id),method:"get",params:r.$http.adornParams()}).then(function(e){var t=e.data;t&&0===t.code&&(console.log("数据查询成功 :>> ",t),r.dataForm.name=t.userLevel.name,r.dataForm.growthPoint=t.userLevel.growthPoint||0,r.dataForm.defaultStatus=t.userLevel.defaultStatus||0,r.dataForm.freeFreightPoint=t.userLevel.freeFreightPoint||0,r.dataForm.commentGrowthPoint=t.userLevel.commentGrowthPoint||0,r.dataForm.priviledgeFreeFreight=t.userLevel.priviledgeFreeFreight||0,r.dataForm.priviledgeMemberPrice=t.userLevel.priviledgeMemberPrice||0,r.dataForm.priviledgeBirthday=t.userLevel.priviledgeBirthday||0,r.dataForm.remark=t.userLevel.remark)})})},dataFormSubmit:function(){var e=this;this.$refs.dataForm.validate(function(r){r&&e.$http({url:e.$http.adornUrl("/member/memberlevel/"+(e.dataForm.id?"update":"save")),method:"post",data:e.$http.adornData({id:e.dataForm.id||void 0,name:e.dataForm.name,growthPoint:e.dataForm.growthPoint,defaultStatus:e.dataForm.defaultStatus,freeFreightPoint:e.dataForm.freeFreightPoint,commentGrowthPoint:e.dataForm.commentGrowthPoint,priviledgeFreeFreight:e.dataForm.priviledgeFreeFreight,priviledgeMemberPrice:e.dataForm.priviledgeMemberPrice,priviledgeBirthday:e.dataForm.priviledgeBirthday,remark:e.dataForm.remark})}).then(function(r){var t=r.data;t&&0===t.code?e.$message({message:"操作成功",type:"success",duration:1500,onClose:function(){e.visible=!1,e.$emit("refreshDataList")}}):e.$message.error(t.msg)})})}}},i={render:function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("el-dialog",{attrs:{title:e.dataForm.id?"修改":"新增","close-on-click-modal":!1,visible:e.visible},on:{"update:visible":function(r){e.visible=r}}},[t("el-form",{ref:"dataForm",attrs:{model:e.dataForm,rules:e.dataRule,"label-width":"120px"},nativeOn:{keyup:function(r){if(!("button"in r)&&e._k(r.keyCode,"enter",13,r.key,"Enter"))return null;e.dataFormSubmit()}}},[t("el-form-item",{attrs:{label:"等级名称",prop:"name"}},[t("el-input",{attrs:{placeholder:"等级名称"},model:{value:e.dataForm.name,callback:function(r){e.$set(e.dataForm,"name",r)},expression:"dataForm.name"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"所需成长值",prop:"growthPoint"}},[t("el-input-number",{attrs:{min:0},model:{value:e.dataForm.growthPoint,callback:function(r){e.$set(e.dataForm,"growthPoint",r)},expression:"dataForm.growthPoint"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"默认等级",prop:"defaultStatus"}},[t("el-checkbox",{attrs:{"true-label":1,"false-label":0},model:{value:e.dataForm.defaultStatus,callback:function(r){e.$set(e.dataForm,"defaultStatus",r)},expression:"dataForm.defaultStatus"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"免运费标准",prop:"freeFreightPoint"}},[t("el-input-number",{attrs:{min:0},model:{value:e.dataForm.freeFreightPoint,callback:function(r){e.$set(e.dataForm,"freeFreightPoint",r)},expression:"dataForm.freeFreightPoint"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"每次评价获取的成长值",prop:"commentGrowthPoint"}},[t("el-input-number",{attrs:{min:0},model:{value:e.dataForm.commentGrowthPoint,callback:function(r){e.$set(e.dataForm,"commentGrowthPoint",r)},expression:"dataForm.commentGrowthPoint"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"是否有免邮特权",prop:"priviledgeFreeFreight"}},[t("el-checkbox",{attrs:{"true-label":1,"false-label":0},model:{value:e.dataForm.priviledgeFreeFreight,callback:function(r){e.$set(e.dataForm,"priviledgeFreeFreight",r)},expression:"dataForm.priviledgeFreeFreight"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"是否有会员价格特权",prop:"priviledgeMemberPrice"}},[t("el-checkbox",{attrs:{"true-label":1,"false-label":0},model:{value:e.dataForm.priviledgeMemberPrice,callback:function(r){e.$set(e.dataForm,"priviledgeMemberPrice",r)},expression:"dataForm.priviledgeMemberPrice"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"是否有生日特权",prop:"priviledgeBirthday"}},[t("el-checkbox",{attrs:{"true-label":1,"false-label":0},model:{value:e.dataForm.priviledgeBirthday,callback:function(r){e.$set(e.dataForm,"priviledgeBirthday",r)},expression:"dataForm.priviledgeBirthday"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"备注",prop:"remark"}},[t("el-input",{attrs:{placeholder:"备注"},model:{value:e.dataForm.remark,callback:function(r){e.$set(e.dataForm,"remark",r)},expression:"dataForm.remark"}})],1)],1),e._v(" "),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(r){e.visible=!1}}},[e._v("取消")]),e._v(" "),t("el-button",{attrs:{type:"primary"},on:{click:function(r){e.dataFormSubmit()}}},[e._v("确定")])],1)],1)},staticRenderFns:[]},o=t("VU/8")(a,i,!1,null,null,null);r.default=o.exports}});